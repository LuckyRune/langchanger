{"version":3,"sources":["webpack:///./src/views/BookTranslating.vue?aac9","webpack:///./src/views/BookTranslating.vue?ff77","webpack:///src/views/BookTranslating.vue","webpack:///./src/views/BookTranslating.vue?aef3","webpack:///./src/views/BookTranslating.vue","webpack:///./src/components/ButtonBlack.vue?d0a3","webpack:///src/components/ButtonBlack.vue","webpack:///./src/components/ButtonBlack.vue?873b","webpack:///./src/components/ButtonBlack.vue","webpack:///./src/vars.js","webpack:///./src/components/ButtonBlack.vue?14ad"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","selected_lang","multiple","enableBtn","_l","lang","key","id","domProps","_s","attributes","postTxt","staticRenderFns","component","cors"],"mappings":"yIAAA,yBAA8e,EAAG,G,kECAjf,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,0BAA0BC,MAAM,CAAC,GAAK,uBAAuB,CAACH,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,oBAAoBJ,EAAG,SAAS,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAiB,cAAEa,WAAW,kBAAkBN,MAAM,CAAC,GAAK,2BAA2BO,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEX,MAAM,OAAOc,KAAO1B,EAAI4B,cAAcb,EAAOM,OAAOQ,SAAWb,EAAgBA,EAAc,IAAIhB,EAAI8B,aAAa9B,EAAI+B,GAAI/B,EAAa,WAAE,SAASgC,GAAM,OAAO5B,EAAG,SAAS,CAAC6B,IAAID,EAAKE,GAAGC,SAAS,CAAC,MAAQH,EAAKE,KAAK,CAAClC,EAAIQ,GAAGR,EAAIoC,GAAGJ,EAAKK,WAAW3B,YAAW,GAAGN,EAAG,SAAS,CAACE,YAAY,WAAWC,MAAM,CAAC,GAAK,yBAAyB,SAAW,IAAIO,GAAG,CAAC,MAAQd,EAAIsC,UAAU,CAACtC,EAAIQ,GAAG,uBAAuBJ,EAAG,WAAW,CAACG,MAAM,CAAC,GAAK,iBAAiBH,EAAG,WAAW,CAACG,MAAM,CAAC,GAAK,kBACjiCgC,EAAkB,G,yDCmBtB,G,UAAA,CACE,KAAF,kBACE,KAFF,WAGI,MAAJ,CACM,GAAN,sBACM,YAAN,GACM,KAAN,GACM,UAAN,GACM,cAAN,KAGE,SAAF,kBACA,gBACA,cAGE,QAhBF,WAgBI,IAAJ,OAWI,IAAJ,iDACA,kBACM,SAAN,8CAEA,eACM,IAAN,qEACA,kBACQ,IAAR,2DACA,kBAIU,IAHA,IAAV,IACA,KAEA,6BACA,2DACc,EAAd,kBACc,KAIJ,EAAV,mBAKE,QAnDF,WAoDA,qFAEE,QAAF,CACI,UADJ,WAEM,SAAN,sDAEI,gBAJJ,WAKM,KAAN,sCAEI,QAPJ,WAQM,IAAN,6CAEM,GADA,QAAN,yDACA,QACQ,IAAR,gBACU,KAAV,eAEQ,KAAR,OAEQ,IAAR,mEACA,sEAEQ,KAAR,mCACU,OAAV,QACU,SAAV,EACU,KAAV,YAGQ,KAAR,oCAGQ,MAAR,kCAIE,WAAF,CACI,YAAJ,UC3GyV,I,wBCQrVC,EAAY,eACd,EACAzC,EACAwC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,IAAIzC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACJ,EAAIQ,GAAG,IAAIR,EAAIoC,GAAGpC,EAAIY,OAAO,QACtI2B,EAAkB,GCMtB,GACE,KAAF,cAEE,MAAF,CACI,MAAJ,SCXqV,I,wBCQjVC,EAAY,eACd,EACAzC,EACAwC,GACA,EACA,KACA,WACA,MAIa,OAAAC,E,2CCnBf,kCAAO,IAAMC,EAAO,2C,kCCApB,yBAA0e,EAAG","file":"js/chunk-748d435b.2651d00f.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookTranslating.vue?vue&type=style&index=0&id=13cdfb35&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookTranslating.vue?vue&type=style&index=0&id=13cdfb35&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"create-translation mb10\",attrs:{\"id\":\"create-translation\"}},[_c('span',{staticClass:\"mr10\"},[_vm._v(\"Выберите язык:\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected_lang),expression:\"selected_lang\"}],attrs:{\"id\":\"select-translation-lang\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected_lang=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.enableBtn]}},_vm._l((_vm.languages),function(lang){return _c('option',{key:lang.id,domProps:{\"value\":lang.id}},[_vm._v(_vm._s(lang.attributes.name))])}),0),_c('button',{staticClass:\"btnBlack\",attrs:{\"id\":\"create-translation-btn\",\"disabled\":\"\"},on:{\"click\":_vm.postTxt}},[_vm._v(\"Создать перевод\")])]),_c('textarea',{attrs:{\"id\":\"origin-text\"}}),_c('textarea',{attrs:{\"id\":\"text-area\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"create-translation mb10\" id=\"create-translation\">\r\n      <span class=\"mr10\">Выберите язык:</span>\r\n      <select @change=\"enableBtn\" id=\"select-translation-lang\" v-model=\"selected_lang\">\r\n        <option v-for=\"lang in languages\" :key=\"lang.id\" :value=\"lang.id\">{{ lang.attributes.name }}</option>\r\n      </select>\r\n      <button class=\"btnBlack\" id=\"create-translation-btn\" disabled @click=\"postTxt\">Создать перевод</button>\r\n    </div>\r\n      <textarea id=\"origin-text\"></textarea>\r\n      <textarea id=\"text-area\"></textarea>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ButtonBlack from '@/components/ButtonBlack'\r\nimport axios from 'axios'\r\nimport {mapGetters} from 'vuex'\r\nimport { cors } from '../vars.js' \r\n\r\nexport default {\r\n    name: 'BookTranslating',\r\n    data() {\r\n      return {\r\n        id: this.$route.params.id,\r\n        source_link: '',\r\n        file: {},\r\n        languages: [],\r\n        selected_lang: ''\r\n      }\r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n            'loggedIn'\r\n        ])\r\n    },\r\n    created () {\r\n      // axios('http://127.0.0.1:8000/project-api/library/origin/read/?origin=' + this.id, {\r\n      //   method: 'GET'\r\n      // })\r\n      // .then((response) => {\r\n      //   var file = response.data.data.source_link.file\r\n      //   axios(cors + file)\r\n      //     .then((res) => {\r\n      //     document.getElementById('origin-text').value = res.data\r\n      //   })\r\n      //   })\r\n      axios('http://127.0.0.1:8080/origins/' + this.id + '.txt')\r\n      .then((response) => {\r\n        document.getElementById('origin-text').value = response.data\r\n      })\r\n      if (this.loggedIn) {\r\n        axios('http://127.0.0.1:8000/project-api/library/origin/?origin=' + this.id)\r\n        .then((resp) => {\r\n          axios('http://127.0.0.1:8000/project-api/library/language/list')\r\n          .then((res) => {\r\n            let j = 0\r\n            let arr = []\r\n\r\n            for (let i = 0; i < res.data.data.length; i++) {\r\n              if (res.data.data[i].id != resp.data.data.origin.origin_language.id) {\r\n                arr[j] = res.data.data[i]\r\n                j++\r\n              }   \r\n            }\r\n\r\n            this.languages = arr\r\n          })\r\n        })\r\n      }\r\n    },\r\n    mounted() {\r\n      if (this.loggedIn) document.getElementById('create-translation').style.display = \"flex\"\r\n    },\r\n    methods: {\r\n        enableBtn() {\r\n          document.getElementById('create-translation-btn').disabled = false\r\n        },\r\n        getUserSettings() {\r\n          this.$store.dispatch('GET_USER_SETTINGS')\r\n        },\r\n        postTxt() {\r\n          const text = document.getElementById('text-area').value\r\n          console.log(\"text: \", document.getElementById('text-area').value)\r\n          if (text !== '') {\r\n            const blob = new Blob([text], {\r\n              type: 'text/plain'\r\n            })\r\n            this.file = blob\r\n\r\n            var sel = document.getElementById('select-translation-lang').selectedIndex\r\n            var selectedLang = document.getElementById('select-translation-lang').options[sel].value\r\n\r\n            this.$store.dispatch('TRANSLATION_ADD', {\r\n              origin: this.id,\r\n              language: selectedLang,\r\n              file: this.file\r\n            })\r\n\r\n            this.$router.push('/book/' + this.id)\r\n          }\r\n          else {\r\n            alert('Сначала напишите что-нибудь!')\r\n          }\r\n        }\r\n    },\r\n    components: {\r\n        ButtonBlack\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.origin-read-frame {\r\n  width: 955px;\r\n  min-width: 940px;\r\n  max-width: 955px;\r\n  height: 37vh;\r\n  min-height: 90px;\r\n  padding: 2px;\r\n}\r\ntextarea {\r\n  width: 950px;\r\n  max-width: 950px;\r\n  min-width: 935px;\r\n  height: 37vh;\r\n  min-height: 90px;\r\n}\r\n\r\n.create-translation {\r\n  display: none;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n}\r\n\r\n.create-translation > span {\r\n  align-self: center;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookTranslating.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookTranslating.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookTranslating.vue?vue&type=template&id=13cdfb35&scoped=true&\"\nimport script from \"./BookTranslating.vue?vue&type=script&lang=js&\"\nexport * from \"./BookTranslating.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookTranslating.vue?vue&type=style&index=0&id=13cdfb35&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13cdfb35\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',[_vm._v(\" \"+_vm._s(_vm.value)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <button>\r\n        {{ value }}\r\n    </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'ButtonBlack',\r\n  \r\n    props: {\r\n        value: String\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbutton {\r\n  min-width: 150px;\r\n  height: 40px;\r\n  padding: 0 10px;\r\n  font-size: 18px;\r\n  text-transform: uppercase;\r\n  border: 0;\r\n  border-radius: 4px;\r\n  background-color: var(--secondary);\r\n  color: white;\r\n}\r\n\r\nbutton:hover {\r\n  box-shadow: 0 0 3px black;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:active {\r\n  background-color: white;\r\n  color: var(--secondary);\r\n  border: 1px solid var(--secondary);\r\n  box-shadow: 0 0 3px black inset;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonBlack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonBlack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ButtonBlack.vue?vue&type=template&id=feaeb9f6&scoped=true&\"\nimport script from \"./ButtonBlack.vue?vue&type=script&lang=js&\"\nexport * from \"./ButtonBlack.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ButtonBlack.vue?vue&type=style&index=0&id=feaeb9f6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"feaeb9f6\",\n  null\n  \n)\n\nexport default component.exports","export const cors = 'https://langchangerproxy.herokuapp.com/'\r\n\r\n// https://cors-anywhere.herokuapp.com/\r\n// https://cors-proxy.htmldriven.com/?url=\r\n// https://thingproxy.freeboard.io/fetch/\r\n// http://www.whateverorigin.org/get?url=\r\n// http://alloworigin.com/get?url=\r\n// https://yacdn.org/serve/\r\n// https://galvanize-cors-proxy.herokuapp.com/","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonBlack.vue?vue&type=style&index=0&id=feaeb9f6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonBlack.vue?vue&type=style&index=0&id=feaeb9f6&scoped=true&lang=css&\""],"sourceRoot":""}